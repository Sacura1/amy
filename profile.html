<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$AMY - Profile & Leaderboard</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="pro.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 50%, #155e75 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        .glass-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }

        .wallet-chip {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 9999px;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .wallet-chip:hover {
            border-color: rgba(255, 215, 0, 0.6);
            background: rgba(0, 0, 0, 0.5);
        }

        .connection-status {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        .status-connected {
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }

        .status-disconnected {
            background: #6b7280;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .icon-badge {
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
            border-radius: 16px;
            font-size: 28px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .icon-badge-small {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
            border-radius: 12px;
            font-size: 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        @media (max-width: 768px) {
            .glass-card {
                border-radius: 16px;
            }

            .icon-badge {
                width: 48px;
                height: 48px;
                font-size: 24px;
            }

            .icon-badge-small {
                width: 36px;
                height: 36px;
                font-size: 18px;
            }

            .wallet-chip {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }
        }

        /* Leaderboard Styles */
        .leaderboard-row {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            transition: all 0.2s;
        }

        .leaderboard-row:hover {
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.4);
            transform: translateX(4px);
        }

        .position-badge {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 165, 0, 0.3));
            border-radius: 12px;
            font-size: 20px;
            font-weight: bold;
            border: 2px solid rgba(255, 215, 0, 0.4);
        }

        .position-1 {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-color: #FFD700;
            color: #000;
            font-size: 24px;
        }

        .position-2 {
            background: linear-gradient(135deg, #C0C0C0, #A8A8A8);
            border-color: #C0C0C0;
            color: #000;
        }

        .position-3 {
            background: linear-gradient(135deg, #CD7F32, #B87333);
            border-color: #CD7F32;
            color: #fff;
        }

        .status-eligible {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
            border: 2px solid #10b981;
            color: #10b981;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .status-ineligible {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.2));
            border: 2px solid #ef4444;
            color: #ef4444;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .hero-text {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @media (max-width: 768px) {
            .position-badge {
                width: 36px;
                height: 36px;
                font-size: 16px;
            }

            .position-1 {
                font-size: 18px;
            }
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <div class="relative z-10 min-h-screen flex flex-col">
        <!-- Header -->
        <header class="container mx-auto px-4 py-4 md:py-6">
            <nav class="flex justify-between items-center gap-4">
                <div class="text-2xl md:text-4xl font-bold text-shadow-strong">$AMY</div>

                <div class="flex items-center gap-2 md:gap-4">
                    <!-- Navigation Buttons -->
                    <div class="hidden md:flex gap-2 md:gap-4">
                        <a href="index.html" class="btn-samy text-white px-4 md:px-8 py-2 md:py-3 rounded-full text-xs md:text-xl font-bold uppercase">
                            HOME
                        </a>
                        <button class="btn-samy text-white px-4 md:px-8 py-2 md:py-3 rounded-full text-xs md:text-xl font-bold uppercase">
                            PROFILE
                        </button>
                        <a href="https://www.osito.finance/?token=0x098a75bAedDEc78f9A8D0830d6B86eAc5cC8894e" target="_blank" rel="noopener noreferrer" class="btn-samy text-white px-4 md:px-8 py-2 md:py-3 rounded-full text-xs md:text-xl font-bold uppercase">
                            BUY
                        </a>
                    </div>

                    <!-- Wallet Chip -->
                    <button onclick="connectWallet()" id="wallet-btn" class="wallet-chip">
                        <span class="connection-status" id="wallet-status-indicator"></span>
                        <span class="text-xs md:text-sm font-semibold" id="wallet-display">Connect Wallet</span>
                    </button>
                </div>
            </nav>

            <!-- Mobile Navigation -->
            <div class="flex md:hidden gap-2 mt-4">
                <a href="index.html" class="btn-samy text-white px-3 py-2 rounded-full text-xs font-bold uppercase flex-1 text-center">
                    HOME
                </a>
                <button class="btn-samy text-white px-3 py-2 rounded-full text-xs font-bold uppercase flex-1">
                    PROFILE
                </button>
                <a href="https://www.osito.finance/?token=0x098a75bAedDEc78f9A8D0830d6B86eAc5cC8894e" target="_blank" rel="noopener noreferrer" class="btn-samy text-white px-3 py-2 rounded-full text-xs font-bold uppercase flex-1 text-center">
                    BUY
                </a>
            </div>

            <!-- Wallet Balance (shows when connected) -->
            <div id="balance-info" class="mt-4 p-3 md:p-4 bg-black bg-opacity-40 rounded-xl hidden border border-yellow-400/20">
                <div class="flex items-center justify-between">
                    <span class="text-xs md:text-sm text-yellow-300 font-medium">Your $AMY Balance:</span>
                    <span id="amy-balance" class="text-lg md:text-2xl text-white font-bold">0</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow container mx-auto px-4 py-12 md:py-24">
            <div class="max-w-2xl mx-auto">

                <!-- X Account Connection Card -->
                <div class="glass-card p-4 md:p-6">
                    <div class="flex items-center justify-between gap-3 flex-wrap md:flex-nowrap">
                        <div class="flex items-center gap-3 flex-1 min-w-[200px]">
                            <div class="icon-badge-small flex-shrink-0">
                                ùïè
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="connection-status" id="x-status-indicator"></span>
                                    <h3 class="text-lg md:text-xl font-bold text-yellow-400">X Account</h3>
                                </div>
                                <p class="text-xs text-gray-300" id="x-status">Not connected</p>
                                <p class="text-sm text-gray-200 mt-1 font-semibold" id="x-username"></p>
                            </div>
                        </div>
                        <button onclick="connectX()" id="x-btn" class="btn-samy text-white px-4 md:px-6 py-2 md:py-3 rounded-full text-sm md:text-base font-bold uppercase w-full md:w-auto">
                            CONNECT
                        </button>
                    </div>
                </div>

                <!-- Eligibility Status (Shows when both wallet and X are connected) -->
                <div id="eligibility-section" class="glass-card p-6 md:p-8 mt-6 hidden">
                    <div class="text-center">
                        <div class="icon-badge mx-auto mb-4" id="eligibility-icon">
                            ‚úÖ
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold mb-2" id="eligibility-title">Checking Status...</h3>
                        <p class="text-xs md:text-sm text-gray-300" id="eligibility-message"></p>
                    </div>
                </div>

                <!-- Admin Download Section (Hidden by default) -->
                <div id="admin-section" class="glass-card p-6 md:p-8 mt-6 hidden">
                    <div class="text-center">
                        <div class="icon-badge mx-auto mb-4">
                            üìä
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold text-yellow-400 mb-2">Admin Panel</h3>
                        <p class="text-xs md:text-sm text-gray-300 mb-6">Download verified $AMY holders</p>
                        <button onclick="downloadSpreadsheet()" class="bg-green-500 text-white px-6 md:px-12 py-3 md:py-4 rounded-full text-sm md:text-lg font-bold uppercase border-3 border-black hover:bg-green-600 transition shadow-lg w-full md:w-auto">
                            üì• DOWNLOAD SPREADSHEET
                        </button>
                    </div>
                </div>

                <!-- Admin Leaderboard Management (Hidden by default) -->
                <div id="admin-leaderboard-section" class="glass-card p-6 md:p-8 mt-6 hidden">
                    <div class="text-center mb-6">
                        <div class="icon-badge mx-auto mb-4">
                            üèÜ
                        </div>
                        <h3 class="text-xl md:text-2xl font-bold text-yellow-400 mb-2">Manage Leaderboard</h3>
                        <p class="text-xs md:text-sm text-gray-300 mb-4">Add, edit, or remove leaderboard entries</p>
                    </div>

                    <!-- Add New Entry Form -->
                    <div class="bg-black bg-opacity-40 p-4 rounded-xl mb-6 border border-yellow-400/20">
                        <h4 class="text-lg font-bold text-yellow-300 mb-3">Add New Entry</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <input type="number" id="new-position" placeholder="Position" class="px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:border-yellow-400 focus:outline-none" />
                            <input type="text" id="new-username" placeholder="X Username (no @)" class="px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:border-yellow-400 focus:outline-none" />
                            <input type="number" id="new-mindshare" placeholder="Mindshare %" step="0.01" class="px-4 py-2 rounded-lg bg-gray-800 border border-gray-600 text-white focus:border-yellow-400 focus:outline-none" />
                        </div>
                        <button onclick="addLeaderboardEntry()" class="mt-3 bg-green-500 text-white px-6 py-2 rounded-full text-sm font-bold uppercase hover:bg-green-600 transition w-full">
                            ‚ûï ADD ENTRY
                        </button>
                    </div>

                    <!-- Current Entries -->
                    <div class="bg-black bg-opacity-40 p-4 rounded-xl border border-yellow-400/20">
                        <h4 class="text-lg font-bold text-yellow-300 mb-3">Current Entries</h4>
                        <div id="admin-leaderboard-list" class="max-h-96 overflow-y-auto">
                            <p class="text-gray-400 text-sm">Loading...</p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Leaderboard Section -->
            <div class="container mx-auto px-4 mt-12">
                <div class="max-w-4xl mx-auto">
                    <!-- Leaderboard Header -->
                    <div class="text-center mb-8">
                        <h2 class="text-3xl md:text-5xl font-black mb-3 hero-text">
                            Leaderboard
                        </h2>
                    </div>

                    <!-- Leaderboard Card -->
                    <div class="glass-card p-4 md:p-8">
                        <div class="mb-4 flex items-center justify-between flex-wrap gap-2">
                            <!-- <h3 class="text-xl md:text-2xl font-bold text-yellow-400">Top Holders</h3> -->
                            <span class="text-xs md:text-sm text-gray-400" id="last-updated">Loading...</span>
                        </div>

                        <div id="leaderboard-container">
                            <!-- Leaderboard rows will be inserted here -->
                            <div class="text-center py-8">
                                <p class="text-gray-400">Loading leaderboard...</p>
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div id="empty-state" class="hidden text-center py-12">
                            <p class="text-2xl mb-2"></p>
                            <p class="text-gray-400">No eligible users yet</p>
                            <p class="text-sm text-gray-500 mt-2">Connect your wallet and X account to join!</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="container mx-auto px-4 py-6 md:py-8 text-center mt-auto">
            <p class="text-yellow-300 text-xs md:text-base font-medium">
                ¬© 2025 $AMY Token. Built for the Berachain Community.
            </p>
        </footer>
    </div>

    <!-- Web3 Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3modal@1.9.12/dist/index.js"></script>
    <script src="profile.js"></script>
</body>
</html>
